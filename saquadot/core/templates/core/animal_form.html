{% extends 'core/base.html' %}
{% block content %}
<div class="card mx-auto" style="max-width: 600px;">
  <div class="card-body">
    <h3 class="text-center mb-3">Cadastrar Novo Animal üêæ</h3>

    <form method="post" enctype="multipart/form-data">
      {% csrf_token %}
      <div class="mb-3">
        <label for="id_nome" class="form-label">Nome</label>
        {{ form.nome }}
      </div>
      <div class="mb-3">
        <label for="id_especie" class="form-label">Esp√©cie</label>
        {{ form.especie }}
      </div>
      <div class="mb-3">
        <label for="id_idade" class="form-label">Idade</label>
        {{ form.idade }}
      </div>
      <div class="mb-3">
        <label for="id_descricao" class="form-label">Descri√ß√£o</label>
        {{ form.descricao }}
      </div>
      <div class="mb-3">
        <label for="id_contato" class="form-label">Contato (Telefone, WhatsApp ou e-mail)</label>
        {{ form.contato }}
      </div>

      <div class="mb-3">
  <label for="foto" class="form-label">üì∏ Foto do animal</label>
  {{ form.foto }}
  <div class="mt-3">
    <img id="preview-img" src="#" alt="Pr√©via da imagem" style="display:none; width:100%; height:220px; object-fit:cover; border-radius:10px; box-shadow:0 2px 6px rgba(0,0,0,0.2);">
  </div>
</div>


      <button type="submit" class="btn btn-green w-100 mt-3">Salvar</button>
      <a href="/" class="btn btn-secondary w-100 mt-2">Cancelar</a>

      <script>
  const input = document.querySelector('#id_foto');
  const preview = document.querySelector('#preview-img');

  input.addEventListener('change', function() {
    const file = this.files[0];
    if (file) {
      const reader = new FileReader();
      reader.onload = function(e) {
        preview.style.display = 'block';
        preview.src = e.target.result;
      }
      reader.readAsDataURL(file);
    } else {
      preview.style.display = 'none';
    }
  });
</script>

    </form>
  </div>
</div>
{% endblock %}


